(this.webpackJsonpwoltora=this.webpackJsonpwoltora||[]).push([[0],{11:function(e,t,r){e.exports={ownerHeader:"Owner_ownerHeader__XOHTg",restaurantContainer:"Owner_restaurantContainer__3z3zR",ownerAddRestaurant:"Owner_ownerAddRestaurant__19TJ1",button:"Owner_button__QFbga",restaurants:"Owner_restaurants__3wEPf",restaurantItem:"Owner_restaurantItem__L5JYO",restaurantItemContainer:"Owner_restaurantItemContainer__16PC5",restaurantInfo:"Owner_restaurantInfo__2HMDx",restaurantInfoContainer:"Owner_restaurantInfoContainer__31fwy",textField:"Owner_textField__144EX",addMenuLink:"Owner_addMenuLink__2BgJP",previewImage:"Owner_previewImage__1lkDm",logout:"Owner_logout__32lpD"}},164:function(e,t,r){},165:function(e,t,r){},17:function(e,t,r){e.exports={display:"Restaurant_display__1pK9E",cartLink:"Restaurant_cartLink__22Tlm",container:"Restaurant_container__1JXdE",name:"Restaurant_name__ymKv8",headerContainer:"Restaurant_headerContainer__1n2Vm",homeLogin:"Restaurant_homeLogin__2vMud",updates:"Restaurant_updates__6SmMt",buttons:"Restaurant_buttons__1bto1"}},187:function(e,t){},189:function(e,t){},203:function(e,t){},205:function(e,t){},23:function(e,t,r){e.exports={header:"addMenu_header__2Vhy0",menuForm:"addMenu_menuForm__24__R",imageField:"addMenu_imageField__2yNed",menuInfo:"addMenu_menuInfo__3Jt1t",category:"addMenu_category__1AwO2",menuNameDescriptionField:"addMenu_menuNameDescriptionField__18zv8",menuNameDescription:"addMenu_menuNameDescription__21SXd",menuPrice:"addMenu_menuPrice__1vtzE",addMore:"addMenu_addMore__3DfAo",imageviewContainer:"addMenu_imageviewContainer__3AQpa",imageButtonContainer:"addMenu_imageButtonContainer__1mv48",img:"addMenu_img__2WfaW",container:"addMenu_container__3EKPn"}},233:function(e,t){},235:function(e,t){},236:function(e,t){},241:function(e,t){},243:function(e,t){},249:function(e,t){},251:function(e,t){},26:function(e,t,r){e.exports={customerHeader:"Customer_customerHeader__3OFuB",customerPage:"Customer_customerPage__1HB31",latestOrder:"Customer_latestOrder__1Um-T",status:"Customer_status__2o3lB",orderItem:"Customer_orderItem__sYlfk",orderHistory:"Customer_orderHistory__vMNMn",customerLogout:"Customer_customerLogout__16knf"}},270:function(e,t){},282:function(e,t){},285:function(e,t){},304:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(155),c=r.n(s),i=(r(164),r(58)),o=r(156),d=r(157),l=r(159),j=r(158),u=r(7),b=r(6),h=(r(165),r(22)),O=r(12),x=r(2),p=r.n(x),m=r(10),v=r(4),g=r(11),f=r.n(g),_=r(8),w=r.n(_),y=r(15),C=r.n(y),N=r(9),S=r(0);function R(e){var t=C.a.decode(e.jwt);console.log(t);var r=Object(n.useState)(!1),a=Object(v.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)({newRestaurantName:"",newRestaurantAddress:"",newRestaurantHoursFrom:"",newRestaurantHoursTo:"",newRestaurantType:"No selection",newRestaurantPriceLevel:"No selection"}),o=Object(v.a)(i,2),d=o[0],l=o[1],j=Object(n.useState)(""),u=Object(v.a)(j,2),x=u[0],g=u[1],_=Object(n.useState)(""),y=Object(v.a)(_,2),R=y[0],k=y[1],A=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){g(t.result)}},D=function(){var t=Object(m.a)(p.a.mark((function t(r){var n,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={data:r},t.prev=1,t.next=4,w.a.post(N.API_ADDRESS+"/owner/addrestaurant/image",n,{headers:{Authorization:"Bearer "+e.jwt}});case 4:a=t.sent,s=a.data,I(d.newRestaurantName,d.newRestaurantAddress,d.newRestaurantHoursFrom,d.newRestaurantHoursTo,d.newRestaurantType,d.newRestaurantPriceLevel,s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(p.a.mark((function e(r,n,a,s,i,o,d){var j,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j=a+"-"+s,"No selection"!==i&&"No selection"!==o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,w.a.post(N.API_ADDRESS+"/owner/addrestaurant/data",{name:r,address:n,operating_hours:j,type:i,price_level:o,user_id:t.user.id,image:d},{headers:{"Content-Type":"application/json"}});case 6:u=e.sent,P(u.data.restaurant_id),L(u.data),k(""),g(""),l({newRestaurantName:"",newRestaurantAddress:"",newRestaurantHoursFrom:"",newRestaurantHoursTo:"",newRestaurantType:"",newRestaurantPriceLevel:""}),c(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,r,n,a,s,c,i){return e.apply(this,arguments)}}(),L=function(t){e.addRestaurant(t)},F=function(e){var t=e.target.value;l(Object(O.a)(Object(O.a)({},d),{},Object(h.a)({},e.target.name,t)))},P=function(t){console.log(t),e.addRestaurantId(t)};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(b.b,{to:"/owner",children:"Back to main page"}),Object(S.jsx)("h1",{children:"Add Restaurant"})]}),Object(S.jsxs)("div",{className:f.a.restaurantInfoContainer,children:[Object(S.jsx)("div",{className:f.a.previewImage,children:x&&Object(S.jsx)("img",{src:x,alt:"chosen",style:{height:"150px"}})}),Object(S.jsxs)("div",{className:f.a.restaurantInfo,children:[Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x&&D(x)},children:[Object(S.jsxs)("div",{className:f.a.textField,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:"Name: "})}),Object(S.jsx)("div",{className:f.a.inputField,children:Object(S.jsx)("input",{type:"text",name:"newRestaurantName",value:d.newRestaurantName,required:!0,onChange:F})})]}),Object(S.jsxs)("div",{className:f.a.textField,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:"Address: "})}),Object(S.jsx)("div",{className:f.a.inputField,children:Object(S.jsx)("input",{type:"text",name:"newRestaurantAddress",value:d.newRestaurantAddress,required:!0,onChange:F})})]}),Object(S.jsxs)("div",{className:f.a.textField,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:"Operating hours: "})}),Object(S.jsxs)("div",{className:f.a.inputField,children:["from",Object(S.jsx)("input",{type:"time",name:"newRestaurantHoursFrom",value:d.newRestaurantHoursFrom,required:!0,onChange:F}),"to",Object(S.jsx)("input",{type:"time",name:"newRestaurantHoursTo",value:d.newRestaurantHoursTo,required:!0,onChange:F})]})]}),Object(S.jsxs)("div",{className:f.a.textField,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:"Type: "})}),Object(S.jsxs)("select",{name:"newRestaurantType",value:d.newRestaurantType,required:!0,onChange:F,children:[Object(S.jsx)("option",{children:"No selection"}),Object(S.jsx)("option",{children:"Buffet"}),Object(S.jsx)("option",{children:"Fast food"}),Object(S.jsx)("option",{children:"Fast casual"}),Object(S.jsx)("option",{children:"Casual dining"}),Object(S.jsx)("option",{children:"Fine dining"})]})]}),Object(S.jsxs)("div",{className:f.a.textField,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:"Price level: "})}),Object(S.jsxs)("select",{name:"newRestaurantPriceLevel",value:d.newRestaurantPriceLevel,required:!0,onChange:F,children:[Object(S.jsx)("option",{children:"No selection"}),Object(S.jsx)("option",{children:"\u20ac"}),Object(S.jsx)("option",{children:"\u20ac\u20ac"}),Object(S.jsx)("option",{children:"\u20ac\u20ac\u20ac"}),Object(S.jsx)("option",{children:"\u20ac\u20ac\u20ac\u20ac"})]})]}),Object(S.jsxs)("div",{className:f.a.textField,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:"Image: "})}),Object(S.jsx)("div",{children:Object(S.jsx)("input",{type:"file",name:"image",value:R,required:!0,onChange:function(e){A(e.target.files[0]),k(e.target.value)}})})]}),Object(S.jsx)("div",{className:f.a.textField,children:Object(S.jsx)("button",{type:"submit",children:"Submit"})})]}),Object(S.jsx)("div",{className:f.a.addMenuLink,children:!0===s?Object(S.jsx)(b.b,{to:"addMenu",children:"Create new menu"}):Object(S.jsx)(S.Fragment,{})})]})]})]})}var k=r(17),A=r.n(k);function D(e){var t=Object(u.f)();return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:A.a.container,children:[Object(S.jsx)("div",{children:Object(S.jsx)("img",{src:e.image,alt:"restaurantImage",height:"300px"})}),Object(S.jsx)("div",{className:A.a.name,children:e.name}),Object(S.jsx)("div",{children:e.type}),Object(S.jsxs)("div",{children:["Price Level: ",e.price_level]}),Object(S.jsx)("div",{children:e.address}),Object(S.jsxs)("div",{children:["Open: ",e.operating_hours]})]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(){return r=e.restaurant_id,void t("/menu/".concat(r));var r},children:"View menu"})})]})}function I(e){return Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:A.a.display,children:e.restaurants.map((function(e){return Object(S.jsx)(D,Object(O.a)({},e),e.restaurant_id)}))})})}var L=r(40),F=r.n(L);function P(e){var t=Object(n.useState)(""),r=Object(v.a)(t,2),a=r[0],s=r[1],c=e.restaurants;return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:F.a.headerContainer,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Woltora"}),Object(S.jsx)("p",{children:" Welcome to Woltora! Find the best restaurants near you."})]}),Object(S.jsxs)("div",{className:F.a.homeLogin,children:[Object(S.jsx)("div",{children:Object(S.jsx)(b.b,{to:"/",children:Object(S.jsx)("div",{children:"Home"})})}),Object(S.jsx)("div",{children:Object(S.jsx)(b.b,{to:"/customer",children:Object(S.jsx)("div",{children:"My account"})})}),Object(S.jsx)("div",{children:Object(S.jsx)(b.b,{to:"/Login",children:Object(S.jsx)("div",{children:"Login/Register"})})}),Object(S.jsx)("div",{children:e.userLoggedIn?"Logged In":"Logged Out"}),Object(S.jsx)("div",{children:e.userLoggedIn?Object(S.jsx)("button",{onClick:e.logout,children:"Logout"}):Object(S.jsx)(S.Fragment,{})})]}),Object(S.jsx)("div",{className:F.a.shoppingcartLink,children:e.userLoggedIn?Object(S.jsx)(b.b,{to:"/Shoppingcart",children:"Go to shopping cart"}):Object(S.jsx)(S.Fragment,{})})]}),Object(S.jsx)("div",{className:F.a.searchBar,children:Object(S.jsx)("input",{type:"text",id:"searchField",onChange:function(e){console.log(e.target.value),s(e.target.value)},value:a,placeholder:"Search for restaurants"})}),Object(S.jsx)("div",{children:Object(S.jsx)(I,{restaurants:c.filter((function(e){return e.name.toUpperCase().includes(a.toUpperCase())}))})})]})}var B=r(59),H=r.n(B);function T(e){var t=a.a.useRef(null),r=a.a.useRef(null),n=Object(u.f)(),s=function(){var a=Object(m.a)(p.a.mark((function a(){var s,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.a.post(N.API_ADDRESS+"/login",null,{auth:{username:t.current.value,password:r.current.value}});case 3:s=a.sent,console.log(s.data),c=s.data.jwt,e.login(c),n("/",{replace:!0}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:H.a.loginBackground,children:[Object(S.jsx)("div",{className:H.a.loginHeader,children:Object(S.jsxs)("h1",{children:["Login here or ",Object(S.jsx)(b.b,{to:"/Register",children:Object(S.jsx)("div",{children:"Register"})})]})}),Object(S.jsx)("div",{className:H.a.loginBox,children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s()},children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:Object(S.jsx)("input",{type:"text",placeholder:"Username",ref:t})})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"password",placeholder:"Password",ref:r})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"submit",placeholder:"Submit"})]})]})]})})]})}r(303);function E(e){var t=C.a.decode(e.jwt);console.log(t);var r=Object(n.useState)([]),a=Object(v.a)(r,2),s=a[0],c=a[1],i=Object(u.g)().restaurant_name,o=Object(u.g)().restaurant_id,d=Object(u.f)();Object(n.useEffect)((function(){var t=function(){var t=Object(m.a)(p.a.mark((function t(){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get(N.API_ADDRESS+"/owner/".concat(o),{headers:{Authorization:"Bearer "+e.jwt}});case 3:r=t.sent,console.log(r),c(r.data.data.orders.filter((function(e){return"Closed"!==e.status}))),console.log(s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[o]);var l=Object(n.useState)({status:"",eta:""}),j=Object(v.a)(l,2),b=(j[0],j[1],function(){var t=Object(m.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.put(N.API_ADDRESS+"/closeorder",{status:"Closed",order_id:r},{headers:{Authorization:"Bearer "+e.jwt}});case 3:n=t.sent,c(s.filter((function(e){return e.order_id!==r}))),console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}());return Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),d("/owner")},children:"Back to main paige"}),Object(S.jsxs)("h1",{children:["Orders for ",i]}),Object(S.jsx)("div",{children:Object(S.jsxs)("table",{className:"table table-hover",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",children:"Order Id"}),Object(S.jsx)("th",{scope:"col",children:"Date"}),Object(S.jsx)("th",{scope:"col",children:"Product"}),Object(S.jsx)("th",{scope:"col",children:"Price"}),Object(S.jsx)("th",{scope:"col",children:"Status"}),Object(S.jsx)("th",{scope:"col",children:"Delivery address"}),Object(S.jsx)("th",{scope:"col",children:"Update Status"})]})}),Object(S.jsx)("tbody",{children:s&&s.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.order_id}),Object(S.jsx)("td",{children:e.date}),Object(S.jsx)("td",{children:e.name}),Object(S.jsxs)("td",{children:[e.price," \u20ac"]}),Object(S.jsx)("td",{children:e.status}),Object(S.jsx)("td",{children:e.delivery_address}),"Received"===e.status?Object(S.jsx)("td",{children:Object(S.jsx)("button",{onClick:function(){return b(e.order_id)},children:"Close order"})}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("td",{children:Object(S.jsx)("button",{onClick:function(){return t=e.order_id,void d("/deliveryupdate/".concat(o,"/").concat(i,"/").concat(t));var t},children:"Update order status"})})})]},t)}))})]})}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),d("/owner/orderhistory/".concat(i,"/").concat(o))},children:"View order history"})})]})}function q(e){var t=C.a.decode(e.jwt);console.log(t);var r=t.user.fname+" "+t.user.lname;console.log(r);var a=Object(n.useState)([]),s=Object(v.a)(a,2),c=s[0],i=s[1],o=Object(u.f)();Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(N.API_ADDRESS+"/restaurants");case 3:r=e.sent,console.log(r),i(r.data.filter((function(e){return e.user_id===t.user.id}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);return c.length<1?Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:f.a.ownerHeader,children:[Object(S.jsx)("div",{children:"Restaurant manager page"}),Object(S.jsxs)("div",{children:["Hello, ",r," "]})]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:e.logout,children:"Logout"})}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:f.a.ownerAddRestaurant,children:[Object(S.jsx)("div",{children:"You have no restaurants"}),Object(S.jsx)(b.b,{to:"addrestaurant",children:Object(S.jsx)("div",{children:Object(S.jsx)("button",{children:"Add restaurant"})})})]})})]}):(console.log(c),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:f.a.ownerHeader,children:[Object(S.jsx)("div",{children:"Restaurant manager page"}),Object(S.jsxs)("div",{children:["Hello, ",r]})]}),Object(S.jsx)("div",{className:f.a.logout,children:Object(S.jsx)("button",{onClick:e.logout,children:"Logout"})}),Object(S.jsxs)("div",{className:f.a.restaurantContainer,children:[Object(S.jsx)("div",{children:c.map((function(t){return Object(S.jsxs)("div",{className:f.a.restaurants,children:[Object(S.jsx)("div",{children:Object(S.jsx)("img",{src:t.image,alt:"ownerRestaurant",style:{height:"100%"}})}),Object(S.jsxs)("div",{className:f.a.restaurantItemContainer,children:[Object(S.jsx)("div",{className:f.a.restaurantItem,children:t.name}),Object(S.jsx)("div",{className:f.a.restaurantItem,children:t.address}),Object(S.jsxs)("div",{className:f.a.restaurantItem,children:["Open: ",t.operating_hours]}),Object(S.jsx)(b.b,{to:t.restaurant_id+"/"+t.name,className:f.a.restaurantItem,children:Object(S.jsx)("div",{children:"View"})}),Object(S.jsx)("button",{className:f.a.restaurantItem,onClick:function(){return r=t.restaurant_id,e.addRestaurantId(r),void o("/owner/addrestaurant/addmenu");var r},children:"Add Menu"})]})]},t.restaurant_id)}))}),Object(S.jsx)("div",{className:f.a.button,children:Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),o("/owner/addrestaurant")},children:"Add restaurant"})})]})]}))}var W=r(41),J=r.n(W);function M(e){var t=Object(u.f)(),r=Object(n.useState)("idle"),a=Object(v.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)({username:"",password:"",firstName:"",lastName:"",streetAddress:"",postCode:""}),o=Object(v.a)(i,2),d=o[0],l=o[1],j=function(){var e=Object(m.a)(p.a.mark((function e(r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c("processing"),e.prev=2,e.next=5,w.a.post(N.API_ADDRESS+"/register",{fname:d.firstName,lname:d.lastName,street_address:d.streetAddress,post_code:d.postCode,user_name:d.username,password:d.password});case 5:n=e.sent,console.log(n),c("registerSuccess"),l({username:"",password:"",firstName:"",lastName:"",streetAddress:"",postCode:""}),setTimeout((function(){t("/ownerlogin",{replace:!0})}),1500),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),c("registerFailure");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=e.target.value;l(Object(O.a)(Object(O.a)({},d),{},Object(h.a)({},e.target.name,t)))},g=null;switch(s){case"idle":g=Object(S.jsx)("input",{type:"submit",value:"Submit"});break;case"processing":g=Object(S.jsx)("span",{style:{color:"blue"},children:"Processing..."});break;case"registerSuccess":g=Object(S.jsx)("span",{style:{color:"green"},children:"Registration success"});break;case"registerFailure":g=Object(S.jsx)("span",{style:{color:"red"},children:"Error"})}return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:J.a.registerHeader,children:Object(S.jsxs)("h1",{children:[Object(S.jsx)(b.b,{to:"/OwnerLogin",children:Object(S.jsx)("div",{children:"Login"})})," or Register here"]})}),Object(S.jsx)("div",{className:J.a.registerBox,children:Object(S.jsxs)("form",{onSubmit:j,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:Object(S.jsx)("input",{required:!0,type:"text",name:"username",value:d.username,placeholder:"Username",onChange:x})})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{required:!0,type:"text",name:"password",value:d.password,placeholder:"Password",onChange:x})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{required:!0,type:"text",name:"firstName",value:d.firstName,placeholder:"First name",onChange:x})]})}),Object(S.jsx)("div",{children:Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{required:!0,type:"text",name:"lastName",value:d.lastName,placeholder:"Last name",onChange:x})]})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("label",{children:Object(S.jsx)("input",{required:!0,type:"text",name:"streetAddress",value:d.streetAddress,placeholder:"Street Address",onChange:x})})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("label",{children:Object(S.jsx)("input",{required:!0,type:"text",name:"postCode",value:d.postCode,placeholder:"Postcode",onChange:x})})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),g]})]})]})})]})}var z=r(60),U=r.n(z);function V(e){var t=a.a.useRef(null),r=a.a.useRef(null),n=Object(u.f)(),s=function(){var a=Object(m.a)(p.a.mark((function a(){var s,c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,w.a.post(N.API_ADDRESS+"/login",null,{auth:{username:t.current.value,password:r.current.value}});case 3:s=a.sent,console.log(s.data),c=s.data.jwt,e.ownerLogin(c),n("/owner",{replace:!0}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:U.a.loginBackground,children:[Object(S.jsx)("div",{className:U.a.loginHeader,children:Object(S.jsxs)("h1",{children:["Login here or ",Object(S.jsx)(b.b,{to:"/Register",children:Object(S.jsx)("div",{children:"Register"})})]})}),Object(S.jsx)("div",{className:U.a.loginBox,children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s()},children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:Object(S.jsx)("input",{type:"text",placeholder:"Username",ref:t})})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"password",placeholder:"Password",ref:r})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"submit",placeholder:"Submit"})]})]})]})})]})}function X(){var e=Object(u.f)(),t=Object(n.useState)("idle"),r=Object(v.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)({username:"",password:"",firstName:"",lastName:"",streetAddress:"",postCode:""}),i=Object(v.a)(c,2),o=i[0],d=i[1],l=function(){var t=Object(m.a)(p.a.mark((function t(){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s("processing"),t.prev=1,t.next=4,w.a.post(N.API_ADDRESS+"/register",{fname:o.firstName,lname:o.lastName,street_address:o.streetAddress,post_code:o.postCode,user_name:o.username,password:o.password},{headers:{"Content-Type":"application/json"}});case 4:r=t.sent,console.log(r.data),s("registerSuccess"),d({username:"",password:"",firstName:"",lastName:"",streetAddress:"",postCode:""}),setTimeout((function(){e("/login",{replace:!0})}),1500),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),s("registerFailure");case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),j=function(e){var t=e.target.value;d(Object(O.a)(Object(O.a)({},o),{},Object(h.a)({},e.target.name,t)))},x=null;switch(a){case"idle":x=Object(S.jsx)("input",{type:"submit",value:"Submit"});break;case"processing":x=Object(S.jsx)("span",{style:{color:"blue"},children:"Processing..."});break;case"registerSuccess":x=Object(S.jsx)("span",{style:{color:"green"},children:"Registration success"});break;case"registerFailure":x=Object(S.jsx)("span",{style:{color:"red"},children:"Error"})}return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:J.a.registerHeader,children:Object(S.jsxs)("h1",{children:[Object(S.jsx)(b.b,{to:"/login",children:Object(S.jsx)("div",{children:"Login"})})," or Register here"]})}),Object(S.jsx)("div",{className:J.a.registerBox,children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l()},children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:Object(S.jsx)("input",{required:!0,type:"text",name:"username",value:o.username,placeholder:"Username",onChange:j})})}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{required:!0,type:"text",name:"password",value:o.password,placeholder:"Password",onChange:j})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{required:!0,type:"text",name:"firstName",value:o.firstName,placeholder:"First name",onChange:j})]})}),Object(S.jsx)("div",{children:Object(S.jsxs)("label",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("input",{required:!0,type:"text",name:"lastName",value:o.lastName,placeholder:"Last name",onChange:j})]})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("label",{children:Object(S.jsx)("input",{required:!0,type:"text",name:"streetAddress",value:o.streetAddress,placeholder:"Street address",onChange:j})})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),Object(S.jsx)("label",{children:Object(S.jsx)("input",{required:!0,type:"text",name:"postCode",value:o.postCode,placeholder:"Postcode",onChange:j})})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("br",{}),x]})]})]})})]})}var K=r(23),Q=r.n(K);function Y(e){var t=e.restaurant_id;console.log("AddMenu restaurant_id: "+t);var r=Object(n.useState)({name:"",category:"Choose Category",description:"",price:""}),a=Object(v.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)(""),o=Object(v.a)(i,2),d=o[0],l=o[1],j=Object(n.useState)(""),u=Object(v.a)(j,2),x=u[0],g=u[1],f=function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){l(t.result)}},_=function(){var t=Object(m.a)(p.a.mark((function t(r){var n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="",a={data:r},t.prev=2,t.next=5,w.a.post(N.API_ADDRESS+"/owner/addrestaurant/addmenu",a,{headers:{Authorization:"Bearer "+e.jwt}});case 5:c=t.sent,n=c.data,y(s.category,s.name,s.description,s.price,n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(m.a)(p.a.mark((function t(r,n,a,s,i){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Choose Category"!==r){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,w.a.post(N.API_ADDRESS+"/owner/addrestaurant/addmenu/data",{restaurant_id:e.restaurant_id,category:r,name:n,description:a,price:s,image:i},{headers:{"Content-Type":"application/json"}}).then((function(e){return console.log(e)}));case 5:g(""),l(""),c({category:"",name:"",description:"",price:""}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,r,n,a,s){return t.apply(this,arguments)}}(),C=function(e){var t=e.target.value;c(Object(O.a)(Object(O.a)({},s),{},Object(h.a)({},e.target.name,t)))};return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:Q.a.header,children:[Object(S.jsx)(b.b,{to:"/owner",children:"Back to main page"}),Object(S.jsx)("h1",{children:"Add Menu"})]}),Object(S.jsx)("div",{className:Q.a.menuForm,children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d&&_(d)},children:[Object(S.jsx)("div",{className:Q.a.category,children:Object(S.jsxs)("select",{className:"form-control-sm",name:"category",value:s.category,required:!0,onChange:C,children:[Object(S.jsx)("option",{children:"Choose Category"}),Object(S.jsx)("option",{children:"Buffet"}),Object(S.jsx)("option",{children:"Fast food"}),Object(S.jsx)("option",{children:"Fast casual"}),Object(S.jsx)("option",{children:"Casual dining"}),Object(S.jsx)("option",{children:"Fine dining"})]})}),Object(S.jsx)("div",{className:Q.a.imageviewContainer,children:Object(S.jsxs)("div",{className:Q.a.menuInfo,children:[Object(S.jsxs)("div",{className:Q.a.imageField,children:[Object(S.jsx)("label",{children:"Select Image"}),Object(S.jsx)("input",{type:"file",name:"image",value:x,required:!0,onChange:function(e){e.target.files[0]&&(f(e.target.files[0]),g(e.target.value))}})]}),Object(S.jsxs)("div",{className:Q.a.menuNameDescription,children:[Object(S.jsx)("label",{children:"Name "}),Object(S.jsx)("label",{children:"Description "})]}),Object(S.jsxs)("div",{className:Q.a.menuNameDescriptionField,children:[Object(S.jsx)("input",{className:"form-control-sm",type:"text",name:"name",value:s.name,required:!0,onChange:C}),Object(S.jsx)("input",{className:"form-control-sm",type:"text",name:"description",value:s.description,required:!0,onChange:C})]}),Object(S.jsxs)("div",{className:Q.a.menuPrice,children:[Object(S.jsx)("label",{children:"Price "}),Object(S.jsx)("input",{className:"form-control-sm",type:"text",name:"price",value:s.price,required:!0,placeholder:"00.00",onChange:C}),Object(S.jsx)("div",{children:"\u20ac"})]})]})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:Q.a.imageButtonContainer,children:Object(S.jsx)("div",{children:d&&Object(S.jsx)("img",{src:d,alt:"chosen",style:{height:"100px"}})})}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{type:"submit",children:"Submit"})})]})]})})]})}var G=Object(n.createContext)(),Z=function(e){var t=Object(n.useState)([]),r=Object(v.a)(t,2),a=r[0],s=r[1];return Object(S.jsx)(G.Provider,{value:{cartItems:a,setCartItems:s,addCartItems:function(e){var t=a.find((function(t){return t.menu_id===e.menu_id}));s(t?a.map((function(r){return r.menu_id===e.menu_id?Object(O.a)(Object(O.a)({},t),{},{qty:t.qty+1}):r})):[].concat(Object(i.a)(a),[Object(O.a)(Object(O.a)({},e),{},{qty:1})]))},removeCartItems:function(e){var t=a.find((function(t){return t.menu_id===e.menu_id}));1===t.qty?s(a.filter((function(t){return t.menu_id!==e.menu_id}))):s(a.map((function(r){return r.menu_id===e.menu_id?Object(O.a)(Object(O.a)({},t),{},{qty:t.qty-1}):r})))}},children:e.children})},$=r(32),ee=r.n($);function te(e){var t=C.a.decode(e.jwt);console.log("customer id from jwt: "+t.user.id);var r=Object(n.useState)("Credit card"),a=Object(v.a)(r,2),s=a[0],c=a[1],i=Object(n.useState)(""),o=Object(v.a)(i,2),d=o[0],l=o[1],j=Object(n.useState)(!1),u=Object(v.a)(j,2),h=u[0],O=u[1],x=Object(n.useContext)(G),g=x.cartItems,f=x.setCartItems,_=x.addCartItems,y=x.removeCartItems,R=g.reduce((function(e,t){return e+t.price*t.qty}),0),k=function(){var r=Object(m.a)(p.a.mark((function r(){var n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==d){r.next=3;break}return O(!0),r.abrupt("return");case 3:return r.prev=3,r.next=6,w.a.post(N.API_ADDRESS+"/shoppingcart",{user_id:t.user.id,total_price:R,status:"Waiting",delivery_address:d,payment_method:s},{headers:{Authorization:"Bearer "+e.jwt}});case 6:n=r.sent,console.log(n),A(n.data.order_id),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),console.error(r.t0);case 14:case"end":return r.stop()}}),r,null,[[3,11]])})));return function(){return r.apply(this,arguments)}}(),A=function(e){g.forEach(function(){var t=Object(m.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.post(N.API_ADDRESS+"/shoppingcart/menuorder",{menu_id:r.menu_id,order_id:e});case 3:n=t.sent,console.log(n),c("Credit card"),l(""),f([]),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}())};return Object(S.jsxs)("div",{className:ee.a.container,children:[Object(S.jsxs)("div",{className:ee.a.linkHeader,children:[Object(S.jsx)("h1",{className:ee.a.shoppingHeader,children:"Shopping cart"}),Object(S.jsx)("div",{children:Object(S.jsx)(b.b,{to:"/",children:"Home"})})]}),Object(S.jsx)("div",{children:0===g.length&&Object(S.jsx)("p",{children:"Shopping cart is empty."})}),g.map((function(e){return Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-2",width:"10%",children:e.name}),Object(S.jsxs)("div",{className:"col-2",width:"10%",children:[Object(S.jsx)("button",{onClick:function(){return _(e)},children:"+"}),Object(S.jsx)("button",{onClick:function(){return y(e)},children:"-"})]}),Object(S.jsxs)("div",{className:"col-2",width:"10%",children:[e.qty," x ",e.price,"\u20ac"]})]},e.menu_id)})),0!==g.length&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("hr",{}),Object(S.jsxs)("div",{className:ee.a.total,children:[Object(S.jsx)("div",{className:"col-2",children:"Total"}),Object(S.jsxs)("div",{className:"col-1",children:[R,"\u20ac"]})]}),Object(S.jsxs)("div",{className:ee.a.address,children:[Object(S.jsx)("div",{children:Object(S.jsx)("label",{children:"Delivery address "})}),Object(S.jsx)("input",{type:"text",name:"deliveryAddress",value:d,required:!0,onChange:function(e){l(e.target.value)}}),Object(S.jsx)("div",{children:h?Object(S.jsx)("span",{style:{color:"red"},children:"Missing Delivery Address"}):Object(S.jsx)(S.Fragment,{})})]}),Object(S.jsxs)("div",{className:ee.a.order,children:[Object(S.jsxs)("select",{name:"payment",value:s,required:!0,onChange:function(e){c(e.target.value)},children:[Object(S.jsx)("option",{children:"Credit card"}),Object(S.jsx)("option",{children:"Google Pay"}),Object(S.jsx)("option",{children:"Apple Pay"})]}),Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),k()},children:"Send order"})]})]})]})}function re(e){C.a.decode(e.jwt);console.log(e.jwt);var t=Object(n.useState)([]),r=Object(v.a)(t,2),a=r[0],s=r[1],c=Object(u.f)(),i=Object(u.g)().restaurant_name,o=Object(u.g)().restaurant_id;console.log(o),Object(n.useEffect)((function(){var t=function(){var t=Object(m.a)(p.a.mark((function t(){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.get(N.API_ADDRESS+"/owner/".concat(o),{headers:{Authorization:"Bearer "+e.jwt}});case 3:r=t.sent,console.log(r),s(r.data.data.orders.filter((function(e){return"Closed"===e.status}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:A.a.buttons,children:[Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),c("/owner")},children:"Back to main page"}),Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),c("/owner/".concat(o,"/").concat(i))},children:"Back to orders"})]}),Object(S.jsxs)("h1",{children:["Order history for ",i]}),Object(S.jsx)("div",{children:Object(S.jsxs)("table",{className:"table table-hover",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",children:"Order Date"}),Object(S.jsx)("th",{scope:"col",children:"Price"}),Object(S.jsx)("th",{scope:"col",children:"Status"}),Object(S.jsx)("th",{scope:"col",children:"Customer Id"}),Object(S.jsx)("th",{scope:"col",children:"Order Id"})]})}),Object(S.jsx)("tbody",{children:a&&a.map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.date}),Object(S.jsxs)("td",{children:[e.total_price," \u20ac"]}),Object(S.jsx)("td",{children:e.status}),Object(S.jsx)("td",{children:e.user_id}),Object(S.jsx)("td",{children:e.order_id})]},e.order_id)}))})]})})]})}var ne=r(26),ae=r.n(ne);function se(e){var t=C.a.decode(e.jwt);console.log(t);var r=t.user.id,a=Object(n.useState)([]),s=Object(v.a)(a,2),c=s[0],i=s[1],o=Object(u.f)();Object(n.useEffect)((function(){var t=function(){var t=Object(m.a)(p.a.mark((function t(){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("get orders: "+r),t.prev=1,t.next=4,w.a.get(N.API_ADDRESS+"/customer/".concat(r),{headers:{Authorization:"Bearer "+e.jwt}});case 4:n=t.sent,console.log(n.data),i(n.data.filter((function(e){return"Closed"!==e.status&&"Received"!==e.status}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var d=function(){var t=Object(m.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r),t.prev=1,t.next=4,w.a.put(N.API_ADDRESS+"/customer/receivedorder/".concat(r),null,{headers:{Authorization:"Bearer "+e.jwt}});case 4:n=t.sent,console.log(n),i(c.filter((function(e){return e.order_id!==r}))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:ae.a.customerHeader,children:[Object(S.jsxs)("div",{className:ae.a.customerPage,children:[Object(S.jsx)("h1",{children:"Customer Page"}),Object(S.jsx)("div",{children:Object(S.jsx)(b.b,{to:"/",children:"Home"})})]}),Object(S.jsxs)("div",{className:ae.a.customerLogout,children:[Object(S.jsx)("button",{onClick:e.logout,children:"Logout"}),Object(S.jsxs)("h3",{children:["Hello, ",t.user.fname]})]})]}),Object(S.jsx)("div",{className:ae.a.latestOrder,children:c&&c.map((function(e,t){return Object(S.jsxs)("div",{className:ae.a.orderItem,children:[Object(S.jsxs)("div",{children:["Date: ",e.date]}),Object(S.jsxs)("div",{children:["Order Id: ",e.order_id," \u20ac"]}),Object(S.jsxs)("div",{children:[e.name," \u20ac"]}),Object(S.jsxs)("div",{children:[e.price," \u20ac"]}),Object(S.jsxs)("div",{className:ae.a.status,children:["Order status: ",e.status]}),Object(S.jsxs)("div",{className:ae.a.status,children:["Estimated time of arrival: ",e.eta]}),"Delivered"===e.status?Object(S.jsx)("button",{onClick:function(){return function(e){d(e.order_id)}(e)},children:"Mark as received"}):Object(S.jsx)(S.Fragment,{})]},t)}))}),Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),o("/customer/orderhistory")},className:ae.a.orderHistory,children:"View order history"})]})}function ce(e){var t=C.a.decode(e.jwt).user.id,r=Object(n.useState)([]),a=Object(v.a)(r,2),s=a[0],c=a[1],i=Object(u.f)();Object(n.useEffect)((function(){var r=function(){var r=Object(m.a)(p.a.mark((function r(){var n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log({customer_id:t}),r.prev=1,r.next=4,w.a.get(N.API_ADDRESS+"/customerhistory/".concat(t),{headers:{Authorization:"Bearer "+e.jwt}});case 4:n=r.sent,console.log(n),c(n.data),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0.message);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();r()}),[]);return Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(e){e.preventDefault(),i("/customer")},children:"Back to main page"}),Object(S.jsx)("h1",{children:"Order history"}),Object(S.jsx)("div",{children:Object(S.jsxs)("table",{className:"table table-hover",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{scope:"col",children:"Date"}),Object(S.jsx)("th",{scope:"col",children:"Order Id"}),Object(S.jsx)("th",{scope:"col",children:"Price"}),Object(S.jsx)("th",{scope:"col",children:"Product"}),Object(S.jsx)("th",{scope:"col",children:"Status"})]})}),Object(S.jsx)("tbody",{children:s&&s.map((function(e,t){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.date}),Object(S.jsx)("td",{children:e.order_id}),Object(S.jsxs)("td",{children:[e.price," \u20ac"]}),Object(S.jsx)("td",{children:e.name}),Object(S.jsx)("td",{children:e.status})]},t)}))})]})})]})}function ie(e){var t=Object(n.useContext)(G).addCartItems,r=e.menu;return Object(S.jsx)("div",{children:Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{children:Object(S.jsx)("img",{src:r.image,alt:"menuImage",height:"300px"})}),Object(S.jsx)("div",{children:r.name}),Object(S.jsx)("div",{children:r.description}),Object(S.jsxs)("div",{children:[r.price," \u20ac"]}),Object(S.jsx)("div",{children:r.category})]}),Object(S.jsx)("div",{children:Object(S.jsx)("button",{onClick:function(){return function(e){console.log(e),t(e)}(r)},children:"Add to cart"})})]})})}function oe(e){var t=Object(n.useState)([]),r=Object(v.a)(t,2),a=r[0],s=r[1],c=Object(u.g)().restaurant_id;return Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(N.API_ADDRESS+"/menu/".concat(c));case 3:n=e.sent,console.log(n.data),s(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}();e()}),[]),Object(S.jsxs)("div",{children:[Object(S.jsxs)("div",{className:A.a.headerContainer,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h2",{children:"Woltora"}),Object(S.jsx)("p",{children:" Welcome to Woltora! Find the best restaurants near you."})]}),Object(S.jsxs)("div",{className:A.a.homeLogin,children:[Object(S.jsx)("div",{children:Object(S.jsx)(b.b,{to:"/",children:Object(S.jsx)("div",{children:"Home"})})}),Object(S.jsx)("div",{children:Object(S.jsx)(b.b,{to:"/Login",children:Object(S.jsx)("div",{children:"Login/Register"})})}),Object(S.jsx)("div",{children:e.userLoggedIn?"Logged In":"Logged Out"})]}),Object(S.jsx)("div",{className:A.a.shoppingcartLink,children:e.userLoggedIn?Object(S.jsx)(b.b,{to:"/Shoppingcart",children:"Go to shopping cart"}):Object(S.jsx)(S.Fragment,{})})]}),Object(S.jsx)("div",{className:A.a.display,children:a.map((function(e){return Object(S.jsx)(ie,{menu:e},e.menu_id)}))})]})}function de(e){var t=Object(u.g)().restaurant_id,r=Object(u.g)().restaurant_name,a=Object(u.g)().order_id,s=Object(n.useState)(""),c=Object(v.a)(s,2),i=c[0],o=c[1],d=Object(n.useState)("Select status"),l=Object(v.a)(d,2),j=l[0],b=l[1],h=Object(u.f)(),O=function(){var t=Object(m.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),"Select status"!==j){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,w.a.put(N.API_ADDRESS+"/updatestatus",{status:j,eta:i,order_id:a},{headers:{Authorization:"Bearer "+e.jwt}});case 6:n=t.sent,console.log(n),o(""),b("Select status"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)("div",{className:A.a.updates,children:[Object(S.jsx)("div",{children:Object(S.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),h("/owner/".concat(t,"/").concat(r))},children:"Back to orders"})}),Object(S.jsx)("div",{children:Object(S.jsxs)("table",{className:"table",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"Update Status"}),Object(S.jsx)("th",{children:"Estimated time of arrival"})]})}),Object(S.jsx)("tbody",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:Object(S.jsxs)("select",{name:"orderStatus",value:j,required:!0,onChange:function(e){console.log(e.target.value),b(e.target.value)},children:[Object(S.jsx)("option",{children:"Select status"}),Object(S.jsx)("option",{children:"Preparing"}),Object(S.jsx)("option",{children:"Ready for delivery"}),Object(S.jsx)("option",{children:"Delivering"}),Object(S.jsx)("option",{children:"Delivered"})]})}),Object(S.jsx)("td",{children:Object(S.jsx)("input",{type:"time",name:"eta",value:i,required:!0,onChange:function(e){o(e.target.value),console.log(e.target.value)}})}),Object(S.jsx)("td",{children:Object(S.jsx)("button",{onClick:O,children:"Update status"})})]})})]})})]})}var le=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).addOwnerId=function(e){n.setState({owner_id:e}),console.log("new owner_id: "+n.state.owner_id)},n.addRestaurant=function(e){n.setState([].concat(Object(i.a)(n.state.restaurants),[e]))},n.addRestaurantId=function(e){console.log("app.js: addRestaurant Id "+e),n.setState({restaurant_id:e})},n.setOrders=function(e){console.log("app.js, allOrders: "+e),n.setState({orders:e})},n.ownerLogin=function(e){n.setState({ownerJWT:e})},n.login=function(e){n.setState({customerJWT:e})},n.logout=function(){n.setState({customerJWT:null,ownerJWT:null})},n.state={restaurants:[],menus:[],orders:[],restaurant_id:"",ownerJWT:null,customerJWT:null},n}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=this;w.a.get(N.API_ADDRESS+"/home").then((function(t){e.setState({restaurants:t.data}),console.log(t.data)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){console.log(this.state.customerJWT),console.log(this.state.ownerJWT);var e=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{path:"/OwnerLogin",element:Object(S.jsx)(V,{ownerLogin:this.ownerLogin})}),Object(S.jsx)(u.a,{path:"/OwnerRegister",element:Object(S.jsx)(M,{})}),Object(S.jsx)(u.a,{path:"/Login",element:Object(S.jsx)(T,{login:this.login})}),Object(S.jsx)(u.a,{path:"/Register",element:Object(S.jsx)(X,{})})]});return null!==this.state.ownerJWT&&(e=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{path:"/Owner",element:Object(S.jsx)(q,{addRestaurantId:this.addRestaurantId,jwt:this.state.ownerJWT,logout:this.logout})}),Object(S.jsx)(u.a,{path:"/owner/:restaurant_id/:restaurant_name",element:Object(S.jsx)(E,{setOrders:this.setOrders,jwt:this.state.ownerJWT})}),Object(S.jsx)(u.a,{path:"/owner/orderhistory/:restaurant_name/:restaurant_id",element:Object(S.jsx)(re,{jwt:this.state.ownerJWT,orders:this.state.orders})}),Object(S.jsx)(u.a,{path:"/owner/addrestaurant",element:Object(S.jsx)(R,{jwt:this.state.ownerJWT,addRestaurant:this.addRestaurant,addRestaurantId:this.addRestaurantId})}),Object(S.jsx)(u.a,{path:"/owner/addrestaurant/addmenu",element:Object(S.jsx)(Y,{restaurant_id:this.state.restaurant_id,jwt:this.state.ownerJWT})}),Object(S.jsx)(u.a,{path:"/DeliveryUpdate/:restaurant_id/:restaurant_name/:order_id",element:Object(S.jsx)(de,{jwt:this.state.ownerJWT})})]})),null!==this.state.customerJWT&&(e=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(u.a,{path:"/customer",element:Object(S.jsx)(se,{jwt:this.state.customerJWT,logout:this.logout,customer_id:this.state.customer_id})}),Object(S.jsx)(u.a,{path:"/Shoppingcart",element:Object(S.jsx)(te,{jwt:this.state.customerJWT})}),Object(S.jsx)(u.a,{path:"/customer/orderhistory",element:Object(S.jsx)(ce,{jwt:this.state.customerJWT})})]})),Object(S.jsx)(b.a,{children:Object(S.jsx)("div",{children:Object(S.jsx)(Z,{children:Object(S.jsxs)(u.c,{children:[Object(S.jsx)(u.a,{path:"/",element:Object(S.jsx)(P,{restaurants:this.state.restaurants,logout:this.logout,userLoggedIn:null!=this.state.customerJWT})}),Object(S.jsx)(u.a,{path:"/menu/:restaurant_id",element:Object(S.jsx)(oe,{userLoggedIn:null!=this.state.customerJWT})}),e,Object(S.jsx)(u.a,{path:"*",element:Object(S.jsx)(P,{restaurants:this.state.restaurants,userLoggedIn:null!=this.state.customerJWT})})]})})})})}}]),r}(a.a.Component),je=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,305)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(le,{})}),document.getElementById("root")),je()},32:function(e,t,r){e.exports={shoppingHeader:"Shoppingcart_shoppingHeader__3SKkX",linkHeader:"Shoppingcart_linkHeader__1ofWd",order:"Shoppingcart_order__1C3P5",address:"Shoppingcart_address__Q68gW",container:"Shoppingcart_container__2ARhJ",total:"Shoppingcart_total__30XY-"}},40:function(e,t,r){e.exports={searchBar:"home_searchBar__1pw5k",headerContainer:"home_headerContainer__bUEd7",homeLogin:"home_homeLogin__29u7c"}},41:function(e,t,r){e.exports={registerHeader:"Register_registerHeader__WDxci",registerBox:"Register_registerBox__3vyf8"}},59:function(e,t,r){e.exports={loginBackground:"Login_loginBackground__36om6",loginHeader:"Login_loginHeader__C4Jjz",loginBox:"Login_loginBox__3cw2t"}},60:function(e,t,r){e.exports={loginBackground:"OwnerLogin_loginBackground__2zN6T",loginHeader:"OwnerLogin_loginHeader__3uy8V",loginBox:"OwnerLogin_loginBox__3Q79C"}},9:function(e){e.exports=JSON.parse('{"API_ADDRESS":"http://localhost:4000"}')}},[[304,1,2]]]);
//# sourceMappingURL=main.e67a9709.chunk.js.map